!function(t){var i={};function e(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var o in t)e.d(n,o,function(i){return t[i]}.bind(null,o));return n},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p="",e(e.s=1)}([function(t,i,e){var n,o,a;o=[e(3)],void 0===(a="function"==typeof(n=function(t){function i(i){this.album=[],this.currentImageIndex=void 0,this.init(),this.options=t.extend({},this.constructor.defaults),this.option(i)}return i.defaults={albumLabel:"Image %1 of %2",alwaysShowNavOnTouchDevices:!1,fadeDuration:600,fitImagesInViewport:!0,imageFadeDuration:600,positionFromTop:50,resizeDuration:700,showImageNumberLabel:!0,wrapAround:!1,disableScrolling:!1,sanitizeTitle:!1},i.prototype.option=function(i){t.extend(this.options,i)},i.prototype.imageCountLabel=function(t,i){return this.options.albumLabel.replace(/%1/g,t).replace(/%2/g,i)},i.prototype.init=function(){var i=this;t(document).ready((function(){i.enable(),i.build()}))},i.prototype.enable=function(){var i=this;t("body").on("click","a[rel^=lightbox], area[rel^=lightbox], a[data-lightbox], area[data-lightbox]",(function(e){return i.start(t(e.currentTarget)),!1}))},i.prototype.build=function(){if(!(t("#lightbox").length>0)){var i=this;t('<div id="lightboxOverlay" tabindex="-1" class="lightboxOverlay"></div><div id="lightbox" tabindex="-1" class="lightbox"><div class="lb-outerContainer"><div class="lb-container"><img class="lb-image" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" alt=""/><div class="lb-nav"><a class="lb-prev" aria-label="Previous image" href="" ></a><a class="lb-next" aria-label="Next image" href="" ></a></div><div class="lb-loader"><a class="lb-cancel"></a></div></div></div><div class="lb-dataContainer"><div class="lb-data"><div class="lb-details"><span class="lb-caption"></span><span class="lb-number"></span></div><div class="lb-closeContainer"><a class="lb-close"></a></div></div></div></div>').appendTo(t("body")),this.$lightbox=t("#lightbox"),this.$overlay=t("#lightboxOverlay"),this.$outerContainer=this.$lightbox.find(".lb-outerContainer"),this.$container=this.$lightbox.find(".lb-container"),this.$image=this.$lightbox.find(".lb-image"),this.$nav=this.$lightbox.find(".lb-nav"),this.containerPadding={top:parseInt(this.$container.css("padding-top"),10),right:parseInt(this.$container.css("padding-right"),10),bottom:parseInt(this.$container.css("padding-bottom"),10),left:parseInt(this.$container.css("padding-left"),10)},this.imageBorderWidth={top:parseInt(this.$image.css("border-top-width"),10),right:parseInt(this.$image.css("border-right-width"),10),bottom:parseInt(this.$image.css("border-bottom-width"),10),left:parseInt(this.$image.css("border-left-width"),10)},this.$overlay.hide().on("click",(function(){return i.end(),!1})),this.$lightbox.hide().on("click",(function(e){"lightbox"===t(e.target).attr("id")&&i.end()})),this.$outerContainer.on("click",(function(e){return"lightbox"===t(e.target).attr("id")&&i.end(),!1})),this.$lightbox.find(".lb-prev").on("click",(function(){return 0===i.currentImageIndex?i.changeImage(i.album.length-1):i.changeImage(i.currentImageIndex-1),!1})),this.$lightbox.find(".lb-next").on("click",(function(){return i.currentImageIndex===i.album.length-1?i.changeImage(0):i.changeImage(i.currentImageIndex+1),!1})),this.$nav.on("mousedown",(function(t){3===t.which&&(i.$nav.css("pointer-events","none"),i.$lightbox.one("contextmenu",(function(){setTimeout(function(){this.$nav.css("pointer-events","auto")}.bind(i),0)})))})),this.$lightbox.find(".lb-loader, .lb-close").on("click",(function(){return i.end(),!1}))}},i.prototype.start=function(i){var e=this,n=t(window);n.on("resize",t.proxy(this.sizeOverlay,this)),this.sizeOverlay(),this.album=[];var o=0;function a(t){e.album.push({alt:t.attr("data-alt"),link:t.attr("href"),title:t.attr("data-title")||t.attr("title")})}var r,s=i.attr("data-lightbox");if(s){r=t(i.prop("tagName")+'[data-lightbox="'+s+'"]');for(var l=0;l<r.length;l=++l)a(t(r[l])),r[l]===i[0]&&(o=l)}else if("lightbox"===i.attr("rel"))a(i);else{r=t(i.prop("tagName")+'[rel="'+i.attr("rel")+'"]');for(var h=0;h<r.length;h=++h)a(t(r[h])),r[h]===i[0]&&(o=h)}var d=n.scrollTop()+this.options.positionFromTop,c=n.scrollLeft();this.$lightbox.css({top:d+"px",left:c+"px"}).fadeIn(this.options.fadeDuration),this.options.disableScrolling&&t("body").addClass("lb-disable-scrolling"),this.changeImage(o)},i.prototype.changeImage=function(i){var e=this,n=this.album[i].link,o=n.split(".").slice(-1)[0],a=this.$lightbox.find(".lb-image");this.disableKeyboardNav(),this.$overlay.fadeIn(this.options.fadeDuration),t(".lb-loader").fadeIn("slow"),this.$lightbox.find(".lb-image, .lb-nav, .lb-prev, .lb-next, .lb-dataContainer, .lb-numbers, .lb-caption").hide(),this.$outerContainer.addClass("animating");var r=new Image;r.onload=function(){var s,l,h,d,c,g;a.attr({alt:e.album[i].alt,src:n}),t(r),a.width(r.width),a.height(r.height),g=t(window).width(),c=t(window).height(),d=g-e.containerPadding.left-e.containerPadding.right-e.imageBorderWidth.left-e.imageBorderWidth.right-20,h=c-e.containerPadding.top-e.containerPadding.bottom-e.imageBorderWidth.top-e.imageBorderWidth.bottom-e.options.positionFromTop-70,"svg"===o&&(a.width(d),a.height(h)),e.options.fitImagesInViewport?(e.options.maxWidth&&e.options.maxWidth<d&&(d=e.options.maxWidth),e.options.maxHeight&&e.options.maxHeight<h&&(h=e.options.maxHeight)):(d=e.options.maxWidth||r.width||d,h=e.options.maxHeight||r.height||h),(r.width>d||r.height>h)&&(r.width/d>r.height/h?(l=d,s=parseInt(r.height/(r.width/l),10),a.width(l),a.height(s)):(s=h,l=parseInt(r.width/(r.height/s),10),a.width(l),a.height(s))),e.sizeContainer(a.width(),a.height())},r.src=this.album[i].link,this.currentImageIndex=i},i.prototype.sizeOverlay=function(){var i=this;setTimeout((function(){i.$overlay.width(t(document).width()).height(t(document).height())}),0)},i.prototype.sizeContainer=function(t,i){var e=this,n=this.$outerContainer.outerWidth(),o=this.$outerContainer.outerHeight(),a=t+this.containerPadding.left+this.containerPadding.right+this.imageBorderWidth.left+this.imageBorderWidth.right,r=i+this.containerPadding.top+this.containerPadding.bottom+this.imageBorderWidth.top+this.imageBorderWidth.bottom;function s(){e.$lightbox.find(".lb-dataContainer").width(a),e.$lightbox.find(".lb-prevLink").height(r),e.$lightbox.find(".lb-nextLink").height(r),e.$overlay.focus(),e.showImage()}n!==a||o!==r?this.$outerContainer.animate({width:a,height:r},this.options.resizeDuration,"swing",(function(){s()})):s()},i.prototype.showImage=function(){this.$lightbox.find(".lb-loader").stop(!0).hide(),this.$lightbox.find(".lb-image").fadeIn(this.options.imageFadeDuration),this.updateNav(),this.updateDetails(),this.preloadNeighboringImages(),this.enableKeyboardNav()},i.prototype.updateNav=function(){var t=!1;try{document.createEvent("TouchEvent"),t=!!this.options.alwaysShowNavOnTouchDevices}catch(t){}this.$lightbox.find(".lb-nav").show(),this.album.length>1&&(this.options.wrapAround?(t&&this.$lightbox.find(".lb-prev, .lb-next").css("opacity","1"),this.$lightbox.find(".lb-prev, .lb-next").show()):(this.currentImageIndex>0&&(this.$lightbox.find(".lb-prev").show(),t&&this.$lightbox.find(".lb-prev").css("opacity","1")),this.currentImageIndex<this.album.length-1&&(this.$lightbox.find(".lb-next").show(),t&&this.$lightbox.find(".lb-next").css("opacity","1"))))},i.prototype.updateDetails=function(){var t=this;if(void 0!==this.album[this.currentImageIndex].title&&""!==this.album[this.currentImageIndex].title){var i=this.$lightbox.find(".lb-caption");this.options.sanitizeTitle?i.text(this.album[this.currentImageIndex].title):i.html(this.album[this.currentImageIndex].title),i.fadeIn("fast")}if(this.album.length>1&&this.options.showImageNumberLabel){var e=this.imageCountLabel(this.currentImageIndex+1,this.album.length);this.$lightbox.find(".lb-number").text(e).fadeIn("fast")}else this.$lightbox.find(".lb-number").hide();this.$outerContainer.removeClass("animating"),this.$lightbox.find(".lb-dataContainer").fadeIn(this.options.resizeDuration,(function(){return t.sizeOverlay()}))},i.prototype.preloadNeighboringImages=function(){this.album.length>this.currentImageIndex+1&&((new Image).src=this.album[this.currentImageIndex+1].link),this.currentImageIndex>0&&((new Image).src=this.album[this.currentImageIndex-1].link)},i.prototype.enableKeyboardNav=function(){this.$lightbox.on("keyup.keyboard",t.proxy(this.keyboardAction,this)),this.$overlay.on("keyup.keyboard",t.proxy(this.keyboardAction,this))},i.prototype.disableKeyboardNav=function(){this.$lightbox.off(".keyboard"),this.$overlay.off(".keyboard")},i.prototype.keyboardAction=function(t){var i=t.keyCode;27===i?(t.stopPropagation(),this.end()):37===i?0!==this.currentImageIndex?this.changeImage(this.currentImageIndex-1):this.options.wrapAround&&this.album.length>1&&this.changeImage(this.album.length-1):39===i&&(this.currentImageIndex!==this.album.length-1?this.changeImage(this.currentImageIndex+1):this.options.wrapAround&&this.album.length>1&&this.changeImage(0))},i.prototype.end=function(){this.disableKeyboardNav(),t(window).off("resize",this.sizeOverlay),this.$lightbox.fadeOut(this.options.fadeDuration),this.$overlay.fadeOut(this.options.fadeDuration),this.options.disableScrolling&&t("body").removeClass("lb-disable-scrolling")},new i})?n.apply(i,o):n)||(t.exports=a)},function(t,i,e){t.exports=e(2)},function(t,i,e){"use strict";e.r(i);var n=e(0),o=e.n(n);jQuery(document).ready((function(t){if(t("#front-page-ig").length>0)new Swiper(".swiper-container",{direction:"horizontal",loop:!0,pagination:{el:".swiper-pagination"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},scrollbar:{el:".swiper-scrollbar"}});if(t(".smart-scroll").length>0){var i=0,e=(t(document).scrollTop(),t(".navbar").outerHeight());t(window).on("scroll",(function(){var n=t(this).scrollTop(),o=t(document).scrollTop();console.log(e),o<e?t(".smart-scroll").removeClass("scrolled-down").addClass("scrolled-up"):n>i?t(".smart-scroll").removeClass("scrolled-up").addClass("scrolled-down"):n<i&&t(".smart-scroll").removeClass("scrolled-down").addClass("scrolled-up"),i=n}))}o.a.option({resizeDuration:300,fadeDuration:700,alwaysShowNavOnTouchDevices:!0}),t(".dropdown-menu").children(".current_page_item").length>0&&t(".current_page_ancestor > a").css("text-decoration","underline"),t(".listen-artist-on-concert").length>0&&0===t(".concert-exists-unique-class-for-js-only").length&&t(".listen-artist-on-concert").text(" ")}))},function(t,i){t.exports=jQuery}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xpZ2h0Ym94Mi9kaXN0L2pzL2xpZ2h0Ym94LmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9tYWluLmpzIiwid2VicGFjazovLy9leHRlcm5hbCBcImpRdWVyeVwiIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiZGVmaW5lIiwiJCIsIkxpZ2h0Ym94Iiwib3B0aW9ucyIsInRoaXMiLCJhbGJ1bSIsImN1cnJlbnRJbWFnZUluZGV4IiwiaW5pdCIsImV4dGVuZCIsImNvbnN0cnVjdG9yIiwiZGVmYXVsdHMiLCJvcHRpb24iLCJhbGJ1bUxhYmVsIiwiYWx3YXlzU2hvd05hdk9uVG91Y2hEZXZpY2VzIiwiZmFkZUR1cmF0aW9uIiwiZml0SW1hZ2VzSW5WaWV3cG9ydCIsImltYWdlRmFkZUR1cmF0aW9uIiwicG9zaXRpb25Gcm9tVG9wIiwicmVzaXplRHVyYXRpb24iLCJzaG93SW1hZ2VOdW1iZXJMYWJlbCIsIndyYXBBcm91bmQiLCJkaXNhYmxlU2Nyb2xsaW5nIiwic2FuaXRpemVUaXRsZSIsImltYWdlQ291bnRMYWJlbCIsImN1cnJlbnRJbWFnZU51bSIsInRvdGFsSW1hZ2VzIiwicmVwbGFjZSIsInNlbGYiLCJkb2N1bWVudCIsInJlYWR5IiwiZW5hYmxlIiwiYnVpbGQiLCJvbiIsImV2ZW50Iiwic3RhcnQiLCJjdXJyZW50VGFyZ2V0IiwibGVuZ3RoIiwiYXBwZW5kVG8iLCIkbGlnaHRib3giLCIkb3ZlcmxheSIsIiRvdXRlckNvbnRhaW5lciIsImZpbmQiLCIkY29udGFpbmVyIiwiJGltYWdlIiwiJG5hdiIsImNvbnRhaW5lclBhZGRpbmciLCJ0b3AiLCJwYXJzZUludCIsImNzcyIsInJpZ2h0IiwiYm90dG9tIiwibGVmdCIsImltYWdlQm9yZGVyV2lkdGgiLCJoaWRlIiwiZW5kIiwidGFyZ2V0IiwiYXR0ciIsImNoYW5nZUltYWdlIiwid2hpY2giLCJvbmUiLCJzZXRUaW1lb3V0IiwiJGxpbmsiLCIkd2luZG93Iiwid2luZG93IiwicHJveHkiLCJzaXplT3ZlcmxheSIsImltYWdlTnVtYmVyIiwiYWRkVG9BbGJ1bSIsInB1c2giLCJhbHQiLCJsaW5rIiwidGl0bGUiLCIkbGlua3MiLCJkYXRhTGlnaHRib3hWYWx1ZSIsInByb3AiLCJqIiwic2Nyb2xsVG9wIiwic2Nyb2xsTGVmdCIsImZhZGVJbiIsImFkZENsYXNzIiwiZmlsZW5hbWUiLCJmaWxldHlwZSIsInNwbGl0Iiwic2xpY2UiLCJkaXNhYmxlS2V5Ym9hcmROYXYiLCJwcmVsb2FkZXIiLCJJbWFnZSIsIm9ubG9hZCIsImltYWdlSGVpZ2h0IiwiaW1hZ2VXaWR0aCIsIm1heEltYWdlSGVpZ2h0IiwibWF4SW1hZ2VXaWR0aCIsIndpbmRvd0hlaWdodCIsIndpbmRvd1dpZHRoIiwid2lkdGgiLCJoZWlnaHQiLCJtYXhXaWR0aCIsIm1heEhlaWdodCIsInNpemVDb250YWluZXIiLCJzcmMiLCJvbGRXaWR0aCIsIm91dGVyV2lkdGgiLCJvbGRIZWlnaHQiLCJvdXRlckhlaWdodCIsIm5ld1dpZHRoIiwibmV3SGVpZ2h0IiwicG9zdFJlc2l6ZSIsImZvY3VzIiwic2hvd0ltYWdlIiwiYW5pbWF0ZSIsInN0b3AiLCJ1cGRhdGVOYXYiLCJ1cGRhdGVEZXRhaWxzIiwicHJlbG9hZE5laWdoYm9yaW5nSW1hZ2VzIiwiZW5hYmxlS2V5Ym9hcmROYXYiLCJhbHdheXNTaG93TmF2IiwiY3JlYXRlRXZlbnQiLCJlIiwic2hvdyIsIiRjYXB0aW9uIiwidGV4dCIsImh0bWwiLCJsYWJlbFRleHQiLCJyZW1vdmVDbGFzcyIsImtleWJvYXJkQWN0aW9uIiwib2ZmIiwia2V5Y29kZSIsImtleUNvZGUiLCJzdG9wUHJvcGFnYXRpb24iLCJmYWRlT3V0IiwialF1ZXJ5IiwiU3dpcGVyIiwiZGlyZWN0aW9uIiwibG9vcCIsInBhZ2luYXRpb24iLCJlbCIsIm5hdmlnYXRpb24iLCJuZXh0RWwiLCJwcmV2RWwiLCJzY3JvbGxiYXIiLCJsYXN0X3Njcm9sbF90b3AiLCJuYXZIZWlnaHQiLCJzY3JvbGxfdG9wIiwic2Nyb2xsZWQiLCJjb25zb2xlIiwibG9nIiwibGlnaHRib3giLCJjaGlsZHJlbiJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVaLEVBQW9Ca0IsRUFBSSxTQUFTaEIsR0FDWCxvQkFBWGlCLFFBQTBCQSxPQUFPQyxhQUMxQ04sT0FBT0MsZUFBZWIsRUFBU2lCLE9BQU9DLFlBQWEsQ0FBRUMs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LFVBQVVnRCxZQUUzQm9FLFFBQVFDLElBQUlKLEdBRVRFLEVBQVdGLEVBQ2hCNUksRUFBRSxpQkFBaUIwSCxZQUFZLGlCQUFpQjVDLFNBQVMsZUFLL0MrRCxFQUFhRixFQUNuQjNJLEVBQUUsaUJBQWlCMEgsWUFBWSxlQUFlNUMsU0FBUyxpQkFJOUMrRCxFQUFhRixHQUMxQjNJLEVBQUUsaUJBQWlCMEgsWUFBWSxpQkFBaUI1QyxTQUFTLGVBSXZENkQsRUFBa0JFLEtBUzFCSSxJQUFTdkksT0FBTyxDQUNkLGVBQWtCLElBQ2xCLGFBQWlCLElBQ2pCLDZCQUFnQyxJQUsvQlYsRUFBRSxrQkFBa0JrSixTQUFTLHNCQUFzQi9HLE9BQVMsR0FDL0RuQyxFQUFFLDhCQUE4QitDLElBQUksa0JBQW1CLGFBR3BEL0MsRUFBRSw2QkFBNkJtQyxPQUFTLEdBRWlCLElBQXpEbkMsRUFBRSw0Q0FBNENtQyxRQUMvQ25DLEVBQUUsNkJBQTZCdUgsS0FBSyxTLGNDcEl0Q3pKLEVBQU9ELFFBQVVvSyIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDEpO1xuIiwiLyohXG4gKiBMaWdodGJveCB2Mi4xMS4zXG4gKiBieSBMb2tlc2ggRGhha2FyXG4gKlxuICogTW9yZSBpbmZvOlxuICogaHR0cDovL2xva2VzaGRoYWthci5jb20vcHJvamVjdHMvbGlnaHRib3gyL1xuICpcbiAqIENvcHlyaWdodCBMb2tlc2ggRGhha2FyXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9sb2tlc2gvbGlnaHRib3gyL2Jsb2IvbWFzdGVyL0xJQ0VOU0VcbiAqXG4gKiBAcHJlc2VydmVcbiAqL1xuXG4vLyBVc2VzIE5vZGUsIEFNRCBvciBicm93c2VyIGdsb2JhbHMgdG8gY3JlYXRlIGEgbW9kdWxlLlxuKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG4gICAgICAgIGRlZmluZShbJ2pxdWVyeSddLCBmYWN0b3J5KTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuICAgICAgICAvLyBOb2RlLiBEb2VzIG5vdCB3b3JrIHdpdGggc3RyaWN0IENvbW1vbkpTLCBidXRcbiAgICAgICAgLy8gb25seSBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB0aGF0IHN1cHBvcnQgbW9kdWxlLmV4cG9ydHMsXG4gICAgICAgIC8vIGxpa2UgTm9kZS5cbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoJ2pxdWVyeScpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBCcm93c2VyIGdsb2JhbHMgKHJvb3QgaXMgd2luZG93KVxuICAgICAgICByb290LmxpZ2h0Ym94ID0gZmFjdG9yeShyb290LmpRdWVyeSk7XG4gICAgfVxufSh0aGlzLCBmdW5jdGlvbiAoJCkge1xuXG4gIGZ1bmN0aW9uIExpZ2h0Ym94KG9wdGlvbnMpIHtcbiAgICB0aGlzLmFsYnVtID0gW107XG4gICAgdGhpcy5jdXJyZW50SW1hZ2VJbmRleCA9IHZvaWQgMDtcbiAgICB0aGlzLmluaXQoKTtcblxuICAgIC8vIG9wdGlvbnNcbiAgICB0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgdGhpcy5jb25zdHJ1Y3Rvci5kZWZhdWx0cyk7XG4gICAgdGhpcy5vcHRpb24ob3B0aW9ucyk7XG4gIH1cblxuICAvLyBEZXNjcmlwdGlvbnMgb2YgYWxsIG9wdGlvbnMgYXZhaWxhYmxlIG9uIHRoZSBkZW1vIHNpdGU6XG4gIC8vIGh0dHA6Ly9sb2tlc2hkaGFrYXIuY29tL3Byb2plY3RzL2xpZ2h0Ym94Mi9pbmRleC5odG1sI29wdGlvbnNcbiAgTGlnaHRib3guZGVmYXVsdHMgPSB7XG4gICAgYWxidW1MYWJlbDogJ0ltYWdlICUxIG9mICUyJyxcbiAgICBhbHdheXNTaG93TmF2T25Ub3VjaERldmljZXM6IGZhbHNlLFxuICAgIGZhZGVEdXJhdGlvbjogNjAwLFxuICAgIGZpdEltYWdlc0luVmlld3BvcnQ6IHRydWUsXG4gICAgaW1hZ2VGYWRlRHVyYXRpb246IDYwMCxcbiAgICAvLyBtYXhXaWR0aDogODAwLFxuICAgIC8vIG1heEhlaWdodDogNjAwLFxuICAgIHBvc2l0aW9uRnJvbVRvcDogNTAsXG4gICAgcmVzaXplRHVyYXRpb246IDcwMCxcbiAgICBzaG93SW1hZ2VOdW1iZXJMYWJlbDogdHJ1ZSxcbiAgICB3cmFwQXJvdW5kOiBmYWxzZSxcbiAgICBkaXNhYmxlU2Nyb2xsaW5nOiBmYWxzZSxcbiAgICAvKlxuICAgIFNhbml0aXplIFRpdGxlXG4gICAgSWYgdGhlIGNhcHRpb24gZGF0YSBpcyB0cnVzdGVkLCBmb3IgZXhhbXBsZSB5b3UgYXJlIGhhcmRjb2RpbmcgaXQgaW4sIHRoZW4gbGVhdmUgdGhpcyB0byBmYWxzZS5cbiAgICBUaGlzIHdpbGwgZnJlZSB5b3UgdG8gYWRkIGh0bWwgdGFncywgc3VjaCBhcyBsaW5rcywgaW4gdGhlIGNhcHRpb24uXG5cbiAgICBJZiB0aGUgY2FwdGlvbiBkYXRhIGlzIHVzZXIgc3VibWl0dGVkIG9yIGZyb20gc29tZSBvdGhlciB1bnRydXN0ZWQgc291cmNlLCB0aGVuIHNldCB0aGlzIHRvIHRydWVcbiAgICB0byBwcmV2ZW50IHhzcyBhbmQgb3RoZXIgaW5qZWN0aW9uIGF0dGFja3MuXG4gICAgICovXG4gICAgc2FuaXRpemVUaXRsZTogZmFsc2VcbiAgfTtcblxuICBMaWdodGJveC5wcm90b3R5cGUub3B0aW9uID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICQuZXh0ZW5kKHRoaXMub3B0aW9ucywgb3B0aW9ucyk7XG4gIH07XG5cbiAgTGlnaHRib3gucHJvdG90eXBlLmltYWdlQ291bnRMYWJlbCA9IGZ1bmN0aW9uKGN1cnJlbnRJbWFnZU51bSwgdG90YWxJbWFnZXMpIHtcbiAgICByZXR1cm4gdGhpcy5vcHRpb25zLmFsYnVtTGFiZWwucmVwbGFjZSgvJTEvZywgY3VycmVudEltYWdlTnVtKS5yZXBsYWNlKC8lMi9nLCB0b3RhbEltYWdlcyk7XG4gIH07XG5cbiAgTGlnaHRib3gucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgLy8gQm90aCBlbmFibGUgYW5kIGJ1aWxkIG1ldGhvZHMgcmVxdWlyZSB0aGUgYm9keSB0YWcgdG8gYmUgaW4gdGhlIERPTS5cbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcbiAgICAgIHNlbGYuZW5hYmxlKCk7XG4gICAgICBzZWxmLmJ1aWxkKCk7XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gTG9vcCB0aHJvdWdoIGFuY2hvcnMgYW5kIGFyZWFtYXBzIGxvb2tpbmcgZm9yIGVpdGhlciBkYXRhLWxpZ2h0Ym94IGF0dHJpYnV0ZXMgb3IgcmVsIGF0dHJpYnV0ZXNcbiAgLy8gdGhhdCBjb250YWluICdsaWdodGJveCcuIFdoZW4gdGhlc2UgYXJlIGNsaWNrZWQsIHN0YXJ0IGxpZ2h0Ym94LlxuICBMaWdodGJveC5wcm90b3R5cGUuZW5hYmxlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICQoJ2JvZHknKS5vbignY2xpY2snLCAnYVtyZWxePWxpZ2h0Ym94XSwgYXJlYVtyZWxePWxpZ2h0Ym94XSwgYVtkYXRhLWxpZ2h0Ym94XSwgYXJlYVtkYXRhLWxpZ2h0Ym94XScsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICBzZWxmLnN0YXJ0KCQoZXZlbnQuY3VycmVudFRhcmdldCkpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIEJ1aWxkIGh0bWwgZm9yIHRoZSBsaWdodGJveCBhbmQgdGhlIG92ZXJsYXkuXG4gIC8vIEF0dGFjaCBldmVudCBoYW5kbGVycyB0byB0aGUgbmV3IERPTSBlbGVtZW50cy4gY2xpY2sgY2xpY2sgY2xpY2tcbiAgTGlnaHRib3gucHJvdG90eXBlLmJ1aWxkID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKCQoJyNsaWdodGJveCcpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIC8vIFRoZSB0d28gcm9vdCBub3RlcyBnZW5lcmF0ZWQsICNsaWdodGJveE92ZXJsYXkgYW5kICNsaWdodGJveCBhcmUgZ2l2ZW5cbiAgICAvLyB0YWJpbmRleCBhdHRycyBzbyB0aGV5IGFyZSBmb2N1c2FibGUuIFdlIGF0dGFjaCBvdXIga2V5Ym9hcmQgZXZlbnRcbiAgICAvLyBsaXN0ZW5lcnMgdG8gdGhlc2UgdHdvIGVsZW1lbnRzLCBhbmQgbm90IHRoZSBkb2N1bWVudC4gQ2xpY2tpbmcgYW55d2hlcmVcbiAgICAvLyB3aGlsZSBMaWdodGJveCBpcyBvcGVuZWQgd2lsbCBrZWVwIHRoZSBmb2N1cyBvbiBvciBpbnNpZGUgb25lIG9mIHRoZXNlXG4gICAgLy8gdHdvIGVsZW1lbnRzLlxuICAgIC8vXG4gICAgLy8gV2UgZG8gdGhpcyBzbyB3ZSBjYW4gcHJldmVudCBwcm9wb2dhdGlvbiBvZiB0aGUgRXNjIGtleXByZXNzIHdoZW5cbiAgICAvLyBMaWdodGJveCBpcyBvcGVuLiBUaGlzIHByZXZlbnRzIGl0IGZyb20gaW50ZWZlcmluZyB3aXRoIG90aGVyIGNvbXBvbmVudHNcbiAgICAvLyBvbiB0aGUgcGFnZSBiZWxvdy5cbiAgICAvL1xuICAgIC8vIEdpdGh1YiBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL2xva2VzaC9saWdodGJveDIvaXNzdWVzLzY2M1xuICAgICQoJzxkaXYgaWQ9XCJsaWdodGJveE92ZXJsYXlcIiB0YWJpbmRleD1cIi0xXCIgY2xhc3M9XCJsaWdodGJveE92ZXJsYXlcIj48L2Rpdj48ZGl2IGlkPVwibGlnaHRib3hcIiB0YWJpbmRleD1cIi0xXCIgY2xhc3M9XCJsaWdodGJveFwiPjxkaXYgY2xhc3M9XCJsYi1vdXRlckNvbnRhaW5lclwiPjxkaXYgY2xhc3M9XCJsYi1jb250YWluZXJcIj48aW1nIGNsYXNzPVwibGItaW1hZ2VcIiBzcmM9XCJkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUlBQUFQLy8vd0FBQUNINUJBRUFBQUFBTEFBQUFBQUJBQUVBQUFJQ1JBRUFPdz09XCIgYWx0PVwiXCIvPjxkaXYgY2xhc3M9XCJsYi1uYXZcIj48YSBjbGFzcz1cImxiLXByZXZcIiBhcmlhLWxhYmVsPVwiUHJldmlvdXMgaW1hZ2VcIiBocmVmPVwiXCIgPjwvYT48YSBjbGFzcz1cImxiLW5leHRcIiBhcmlhLWxhYmVsPVwiTmV4dCBpbWFnZVwiIGhyZWY9XCJcIiA+PC9hPjwvZGl2PjxkaXYgY2xhc3M9XCJsYi1sb2FkZXJcIj48YSBjbGFzcz1cImxiLWNhbmNlbFwiPjwvYT48L2Rpdj48L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPVwibGItZGF0YUNvbnRhaW5lclwiPjxkaXYgY2xhc3M9XCJsYi1kYXRhXCI+PGRpdiBjbGFzcz1cImxiLWRldGFpbHNcIj48c3BhbiBjbGFzcz1cImxiLWNhcHRpb25cIj48L3NwYW4+PHNwYW4gY2xhc3M9XCJsYi1udW1iZXJcIj48L3NwYW4+PC9kaXY+PGRpdiBjbGFzcz1cImxiLWNsb3NlQ29udGFpbmVyXCI+PGEgY2xhc3M9XCJsYi1jbG9zZVwiPjwvYT48L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj4nKS5hcHBlbmRUbygkKCdib2R5JykpO1xuXG4gICAgLy8gQ2FjaGUgalF1ZXJ5IG9iamVjdHNcbiAgICB0aGlzLiRsaWdodGJveCAgICAgICA9ICQoJyNsaWdodGJveCcpO1xuICAgIHRoaXMuJG92ZXJsYXkgICAgICAgID0gJCgnI2xpZ2h0Ym94T3ZlcmxheScpO1xuICAgIHRoaXMuJG91dGVyQ29udGFpbmVyID0gdGhpcy4kbGlnaHRib3guZmluZCgnLmxiLW91dGVyQ29udGFpbmVyJyk7XG4gICAgdGhpcy4kY29udGFpbmVyICAgICAgPSB0aGlzLiRsaWdodGJveC5maW5kKCcubGItY29udGFpbmVyJyk7XG4gICAgdGhpcy4kaW1hZ2UgICAgICAgICAgPSB0aGlzLiRsaWdodGJveC5maW5kKCcubGItaW1hZ2UnKTtcbiAgICB0aGlzLiRuYXYgICAgICAgICAgICA9IHRoaXMuJGxpZ2h0Ym94LmZpbmQoJy5sYi1uYXYnKTtcblxuICAgIC8vIFN0b3JlIGNzcyB2YWx1ZXMgZm9yIGZ1dHVyZSBsb29rdXBcbiAgICB0aGlzLmNvbnRhaW5lclBhZGRpbmcgPSB7XG4gICAgICB0b3A6IHBhcnNlSW50KHRoaXMuJGNvbnRhaW5lci5jc3MoJ3BhZGRpbmctdG9wJyksIDEwKSxcbiAgICAgIHJpZ2h0OiBwYXJzZUludCh0aGlzLiRjb250YWluZXIuY3NzKCdwYWRkaW5nLXJpZ2h0JyksIDEwKSxcbiAgICAgIGJvdHRvbTogcGFyc2VJbnQodGhpcy4kY29udGFpbmVyLmNzcygncGFkZGluZy1ib3R0b20nKSwgMTApLFxuICAgICAgbGVmdDogcGFyc2VJbnQodGhpcy4kY29udGFpbmVyLmNzcygncGFkZGluZy1sZWZ0JyksIDEwKVxuICAgIH07XG5cbiAgICB0aGlzLmltYWdlQm9yZGVyV2lkdGggPSB7XG4gICAgICB0b3A6IHBhcnNlSW50KHRoaXMuJGltYWdlLmNzcygnYm9yZGVyLXRvcC13aWR0aCcpLCAxMCksXG4gICAgICByaWdodDogcGFyc2VJbnQodGhpcy4kaW1hZ2UuY3NzKCdib3JkZXItcmlnaHQtd2lkdGgnKSwgMTApLFxuICAgICAgYm90dG9tOiBwYXJzZUludCh0aGlzLiRpbWFnZS5jc3MoJ2JvcmRlci1ib3R0b20td2lkdGgnKSwgMTApLFxuICAgICAgbGVmdDogcGFyc2VJbnQodGhpcy4kaW1hZ2UuY3NzKCdib3JkZXItbGVmdC13aWR0aCcpLCAxMClcbiAgICB9O1xuXG4gICAgLy8gQXR0YWNoIGV2ZW50IGhhbmRsZXJzIHRvIHRoZSBuZXdseSBtaW50ZWQgRE9NIGVsZW1lbnRzXG4gICAgdGhpcy4kb3ZlcmxheS5oaWRlKCkub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICBzZWxmLmVuZCgpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pO1xuXG4gICAgdGhpcy4kbGlnaHRib3guaGlkZSgpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICBpZiAoJChldmVudC50YXJnZXQpLmF0dHIoJ2lkJykgPT09ICdsaWdodGJveCcpIHtcbiAgICAgICAgc2VsZi5lbmQoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuJG91dGVyQ29udGFpbmVyLm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICBpZiAoJChldmVudC50YXJnZXQpLmF0dHIoJ2lkJykgPT09ICdsaWdodGJveCcpIHtcbiAgICAgICAgc2VsZi5lbmQoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcblxuICAgIHRoaXMuJGxpZ2h0Ym94LmZpbmQoJy5sYi1wcmV2Jykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoc2VsZi5jdXJyZW50SW1hZ2VJbmRleCA9PT0gMCkge1xuICAgICAgICBzZWxmLmNoYW5nZUltYWdlKHNlbGYuYWxidW0ubGVuZ3RoIC0gMSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZWxmLmNoYW5nZUltYWdlKHNlbGYuY3VycmVudEltYWdlSW5kZXggLSAxKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcblxuICAgIHRoaXMuJGxpZ2h0Ym94LmZpbmQoJy5sYi1uZXh0Jykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoc2VsZi5jdXJyZW50SW1hZ2VJbmRleCA9PT0gc2VsZi5hbGJ1bS5sZW5ndGggLSAxKSB7XG4gICAgICAgIHNlbGYuY2hhbmdlSW1hZ2UoMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZWxmLmNoYW5nZUltYWdlKHNlbGYuY3VycmVudEltYWdlSW5kZXggKyAxKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcblxuICAgIC8qXG4gICAgICBTaG93IGNvbnRleHQgbWVudSBmb3IgaW1hZ2Ugb24gcmlnaHQtY2xpY2tcblxuICAgICAgVGhlcmUgaXMgYSBkaXYgY29udGFpbmluZyB0aGUgbmF2aWdhdGlvbiB0aGF0IHNwYW5zIHRoZSBlbnRpcmUgaW1hZ2UgYW5kIGxpdmVzIGFib3ZlIG9mIGl0LiBJZlxuICAgICAgeW91IHJpZ2h0LWNsaWNrLCB5b3UgYXJlIHJpZ2h0IGNsaWNraW5nIHRoaXMgZGl2IGFuZCBub3QgdGhlIGltYWdlLiBUaGlzIHByZXZlbnRzIHVzZXJzIGZyb21cbiAgICAgIHNhdmluZyB0aGUgaW1hZ2Ugb3IgdXNpbmcgb3RoZXIgY29udGV4dCBtZW51IGFjdGlvbnMgd2l0aCB0aGUgaW1hZ2UuXG5cbiAgICAgIFRvIGZpeCB0aGlzLCB3aGVuIHdlIGRldGVjdCB0aGUgcmlnaHQgbW91c2UgYnV0dG9uIGlzIHByZXNzZWQgZG93biwgYnV0IG5vdCB5ZXQgY2xpY2tlZCwgd2VcbiAgICAgIHNldCBwb2ludGVyLWV2ZW50cyB0byBub25lIG9uIHRoZSBuYXYgZGl2LiBUaGlzIGlzIHNvIHRoYXQgdGhlIHVwY29taW5nIHJpZ2h0LWNsaWNrIGV2ZW50IG9uXG4gICAgICB0aGUgbmV4dCBtb3VzZXVwIHdpbGwgYnViYmxlIGRvd24gdG8gdGhlIGltYWdlLiBPbmNlIHRoZSByaWdodC1jbGljay9jb250ZXh0bWVudSBldmVudCBvY2N1cnNcbiAgICAgIHdlIHNldCB0aGUgcG9pbnRlciBldmVudHMgYmFjayB0byBhdXRvIGZvciB0aGUgbmF2IGRpdiBzbyBpdCBjYW4gY2FwdHVyZSBob3ZlciBhbmQgbGVmdC1jbGlja1xuICAgICAgZXZlbnRzIGFzIHVzdWFsLlxuICAgICAqL1xuICAgIHRoaXMuJG5hdi5vbignbW91c2Vkb3duJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIGlmIChldmVudC53aGljaCA9PT0gMykge1xuICAgICAgICBzZWxmLiRuYXYuY3NzKCdwb2ludGVyLWV2ZW50cycsICdub25lJyk7XG5cbiAgICAgICAgc2VsZi4kbGlnaHRib3gub25lKCdjb250ZXh0bWVudScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHRoaXMuJG5hdi5jc3MoJ3BvaW50ZXItZXZlbnRzJywgJ2F1dG8nKTtcbiAgICAgICAgICB9LmJpbmQoc2VsZiksIDApO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuXG4gICAgdGhpcy4kbGlnaHRib3guZmluZCgnLmxiLWxvYWRlciwgLmxiLWNsb3NlJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICBzZWxmLmVuZCgpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIFNob3cgb3ZlcmxheSBhbmQgbGlnaHRib3guIElmIHRoZSBpbWFnZSBpcyBwYXJ0IG9mIGEgc2V0LCBhZGQgc2libGluZ3MgdG8gYWxidW0gYXJyYXkuXG4gIExpZ2h0Ym94LnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uKCRsaW5rKSB7XG4gICAgdmFyIHNlbGYgICAgPSB0aGlzO1xuICAgIHZhciAkd2luZG93ID0gJCh3aW5kb3cpO1xuXG4gICAgJHdpbmRvdy5vbigncmVzaXplJywgJC5wcm94eSh0aGlzLnNpemVPdmVybGF5LCB0aGlzKSk7XG5cbiAgICB0aGlzLnNpemVPdmVybGF5KCk7XG5cbiAgICB0aGlzLmFsYnVtID0gW107XG4gICAgdmFyIGltYWdlTnVtYmVyID0gMDtcblxuICAgIGZ1bmN0aW9uIGFkZFRvQWxidW0oJGxpbmspIHtcbiAgICAgIHNlbGYuYWxidW0ucHVzaCh7XG4gICAgICAgIGFsdDogJGxpbmsuYXR0cignZGF0YS1hbHQnKSxcbiAgICAgICAgbGluazogJGxpbmsuYXR0cignaHJlZicpLFxuICAgICAgICB0aXRsZTogJGxpbmsuYXR0cignZGF0YS10aXRsZScpIHx8ICRsaW5rLmF0dHIoJ3RpdGxlJylcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFN1cHBvcnQgYm90aCBkYXRhLWxpZ2h0Ym94IGF0dHJpYnV0ZSBhbmQgcmVsIGF0dHJpYnV0ZSBpbXBsZW1lbnRhdGlvbnNcbiAgICB2YXIgZGF0YUxpZ2h0Ym94VmFsdWUgPSAkbGluay5hdHRyKCdkYXRhLWxpZ2h0Ym94Jyk7XG4gICAgdmFyICRsaW5rcztcblxuICAgIGlmIChkYXRhTGlnaHRib3hWYWx1ZSkge1xuICAgICAgJGxpbmtzID0gJCgkbGluay5wcm9wKCd0YWdOYW1lJykgKyAnW2RhdGEtbGlnaHRib3g9XCInICsgZGF0YUxpZ2h0Ym94VmFsdWUgKyAnXCJdJyk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8ICRsaW5rcy5sZW5ndGg7IGkgPSArK2kpIHtcbiAgICAgICAgYWRkVG9BbGJ1bSgkKCRsaW5rc1tpXSkpO1xuICAgICAgICBpZiAoJGxpbmtzW2ldID09PSAkbGlua1swXSkge1xuICAgICAgICAgIGltYWdlTnVtYmVyID0gaTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoJGxpbmsuYXR0cigncmVsJykgPT09ICdsaWdodGJveCcpIHtcbiAgICAgICAgLy8gSWYgaW1hZ2UgaXMgbm90IHBhcnQgb2YgYSBzZXRcbiAgICAgICAgYWRkVG9BbGJ1bSgkbGluayk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBJZiBpbWFnZSBpcyBwYXJ0IG9mIGEgc2V0XG4gICAgICAgICRsaW5rcyA9ICQoJGxpbmsucHJvcCgndGFnTmFtZScpICsgJ1tyZWw9XCInICsgJGxpbmsuYXR0cigncmVsJykgKyAnXCJdJyk7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgJGxpbmtzLmxlbmd0aDsgaiA9ICsraikge1xuICAgICAgICAgIGFkZFRvQWxidW0oJCgkbGlua3Nbal0pKTtcbiAgICAgICAgICBpZiAoJGxpbmtzW2pdID09PSAkbGlua1swXSkge1xuICAgICAgICAgICAgaW1hZ2VOdW1iZXIgPSBqO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFBvc2l0aW9uIExpZ2h0Ym94XG4gICAgdmFyIHRvcCAgPSAkd2luZG93LnNjcm9sbFRvcCgpICsgdGhpcy5vcHRpb25zLnBvc2l0aW9uRnJvbVRvcDtcbiAgICB2YXIgbGVmdCA9ICR3aW5kb3cuc2Nyb2xsTGVmdCgpO1xuICAgIHRoaXMuJGxpZ2h0Ym94LmNzcyh7XG4gICAgICB0b3A6IHRvcCArICdweCcsXG4gICAgICBsZWZ0OiBsZWZ0ICsgJ3B4J1xuICAgIH0pLmZhZGVJbih0aGlzLm9wdGlvbnMuZmFkZUR1cmF0aW9uKTtcblxuICAgIC8vIERpc2FibGUgc2Nyb2xsaW5nIG9mIHRoZSBwYWdlIHdoaWxlIG9wZW5cbiAgICBpZiAodGhpcy5vcHRpb25zLmRpc2FibGVTY3JvbGxpbmcpIHtcbiAgICAgICQoJ2JvZHknKS5hZGRDbGFzcygnbGItZGlzYWJsZS1zY3JvbGxpbmcnKTtcbiAgICB9XG5cbiAgICB0aGlzLmNoYW5nZUltYWdlKGltYWdlTnVtYmVyKTtcbiAgfTtcblxuICAvLyBIaWRlIG1vc3QgVUkgZWxlbWVudHMgaW4gcHJlcGFyYXRpb24gZm9yIHRoZSBhbmltYXRlZCByZXNpemluZyBvZiB0aGUgbGlnaHRib3guXG4gIExpZ2h0Ym94LnByb3RvdHlwZS5jaGFuZ2VJbWFnZSA9IGZ1bmN0aW9uKGltYWdlTnVtYmVyKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBmaWxlbmFtZSA9IHRoaXMuYWxidW1baW1hZ2VOdW1iZXJdLmxpbms7XG4gICAgdmFyIGZpbGV0eXBlID0gZmlsZW5hbWUuc3BsaXQoJy4nKS5zbGljZSgtMSlbMF07XG4gICAgdmFyICRpbWFnZSA9IHRoaXMuJGxpZ2h0Ym94LmZpbmQoJy5sYi1pbWFnZScpO1xuXG4gICAgLy8gRGlzYWJsZSBrZXlib2FyZCBuYXYgZHVyaW5nIHRyYW5zaXRpb25zXG4gICAgdGhpcy5kaXNhYmxlS2V5Ym9hcmROYXYoKTtcblxuICAgIC8vIFNob3cgbG9hZGluZyBzdGF0ZVxuICAgIHRoaXMuJG92ZXJsYXkuZmFkZUluKHRoaXMub3B0aW9ucy5mYWRlRHVyYXRpb24pO1xuICAgICQoJy5sYi1sb2FkZXInKS5mYWRlSW4oJ3Nsb3cnKTtcbiAgICB0aGlzLiRsaWdodGJveC5maW5kKCcubGItaW1hZ2UsIC5sYi1uYXYsIC5sYi1wcmV2LCAubGItbmV4dCwgLmxiLWRhdGFDb250YWluZXIsIC5sYi1udW1iZXJzLCAubGItY2FwdGlvbicpLmhpZGUoKTtcbiAgICB0aGlzLiRvdXRlckNvbnRhaW5lci5hZGRDbGFzcygnYW5pbWF0aW5nJyk7XG5cbiAgICAvLyBXaGVuIGltYWdlIHRvIHNob3cgaXMgcHJlbG9hZGVkLCB3ZSBzZW5kIHRoZSB3aWR0aCBhbmQgaGVpZ2h0IHRvIHNpemVDb250YWluZXIoKVxuICAgIHZhciBwcmVsb2FkZXIgPSBuZXcgSW1hZ2UoKTtcbiAgICBwcmVsb2FkZXIub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgJHByZWxvYWRlcjtcbiAgICAgIHZhciBpbWFnZUhlaWdodDtcbiAgICAgIHZhciBpbWFnZVdpZHRoO1xuICAgICAgdmFyIG1heEltYWdlSGVpZ2h0O1xuICAgICAgdmFyIG1heEltYWdlV2lkdGg7XG4gICAgICB2YXIgd2luZG93SGVpZ2h0O1xuICAgICAgdmFyIHdpbmRvd1dpZHRoO1xuXG4gICAgICAkaW1hZ2UuYXR0cih7XG4gICAgICAgICdhbHQnOiBzZWxmLmFsYnVtW2ltYWdlTnVtYmVyXS5hbHQsXG4gICAgICAgICdzcmMnOiBmaWxlbmFtZVxuICAgICAgfSk7XG5cbiAgICAgICRwcmVsb2FkZXIgPSAkKHByZWxvYWRlcik7XG5cbiAgICAgICRpbWFnZS53aWR0aChwcmVsb2FkZXIud2lkdGgpO1xuICAgICAgJGltYWdlLmhlaWdodChwcmVsb2FkZXIuaGVpZ2h0KTtcbiAgICAgIHdpbmRvd1dpZHRoID0gJCh3aW5kb3cpLndpZHRoKCk7XG4gICAgICB3aW5kb3dIZWlnaHQgPSAkKHdpbmRvdykuaGVpZ2h0KCk7XG5cbiAgICAgIC8vIENhbGN1bGF0ZSB0aGUgbWF4IGltYWdlIGRpbWVuc2lvbnMgZm9yIHRoZSBjdXJyZW50IHZpZXdwb3J0LlxuICAgICAgLy8gVGFrZSBpbnRvIGFjY291bnQgdGhlIGJvcmRlciBhcm91bmQgdGhlIGltYWdlIGFuZCBhbiBhZGRpdGlvbmFsIDEwcHggZ3V0dGVyIG9uIGVhY2ggc2lkZS5cbiAgICAgIG1heEltYWdlV2lkdGggID0gd2luZG93V2lkdGggLSBzZWxmLmNvbnRhaW5lclBhZGRpbmcubGVmdCAtIHNlbGYuY29udGFpbmVyUGFkZGluZy5yaWdodCAtIHNlbGYuaW1hZ2VCb3JkZXJXaWR0aC5sZWZ0IC0gc2VsZi5pbWFnZUJvcmRlcldpZHRoLnJpZ2h0IC0gMjA7XG4gICAgICBtYXhJbWFnZUhlaWdodCA9IHdpbmRvd0hlaWdodCAtIHNlbGYuY29udGFpbmVyUGFkZGluZy50b3AgLSBzZWxmLmNvbnRhaW5lclBhZGRpbmcuYm90dG9tIC0gc2VsZi5pbWFnZUJvcmRlcldpZHRoLnRvcCAtIHNlbGYuaW1hZ2VCb3JkZXJXaWR0aC5ib3R0b20gLSBzZWxmLm9wdGlvbnMucG9zaXRpb25Gcm9tVG9wIC0gNzA7XG5cbiAgICAgIC8qXG4gICAgICBTaW5jZSBtYW55IFNWR3MgaGF2ZSBzbWFsbCBpbnRyaW5zaWMgZGltZW5zaW9ucywgYnV0IHRoZXkgc3VwcG9ydCBzY2FsaW5nXG4gICAgICB1cCB3aXRob3V0IHF1YWxpdHkgbG9zcyBiZWNhdXNlIG9mIHRoZWlyIHZlY3RvciBmb3JtYXQsIG1heCBvdXQgdGhlaXJcbiAgICAgIHNpemUuXG4gICAgICAqL1xuICAgICAgaWYgKGZpbGV0eXBlID09PSAnc3ZnJykge1xuICAgICAgICAkaW1hZ2Uud2lkdGgobWF4SW1hZ2VXaWR0aCk7XG4gICAgICAgICRpbWFnZS5oZWlnaHQobWF4SW1hZ2VIZWlnaHQpO1xuICAgICAgfVxuXG4gICAgICAvLyBGaXQgaW1hZ2UgaW5zaWRlIHRoZSB2aWV3cG9ydC5cbiAgICAgIGlmIChzZWxmLm9wdGlvbnMuZml0SW1hZ2VzSW5WaWV3cG9ydCkge1xuXG4gICAgICAgIC8vIENoZWNrIGlmIGltYWdlIHNpemUgaXMgbGFyZ2VyIHRoZW4gbWF4V2lkdGh8bWF4SGVpZ2h0IGluIHNldHRpbmdzXG4gICAgICAgIGlmIChzZWxmLm9wdGlvbnMubWF4V2lkdGggJiYgc2VsZi5vcHRpb25zLm1heFdpZHRoIDwgbWF4SW1hZ2VXaWR0aCkge1xuICAgICAgICAgIG1heEltYWdlV2lkdGggPSBzZWxmLm9wdGlvbnMubWF4V2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlbGYub3B0aW9ucy5tYXhIZWlnaHQgJiYgc2VsZi5vcHRpb25zLm1heEhlaWdodCA8IG1heEltYWdlSGVpZ2h0KSB7XG4gICAgICAgICAgbWF4SW1hZ2VIZWlnaHQgPSBzZWxmLm9wdGlvbnMubWF4SGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1heEltYWdlV2lkdGggPSBzZWxmLm9wdGlvbnMubWF4V2lkdGggfHwgcHJlbG9hZGVyLndpZHRoIHx8IG1heEltYWdlV2lkdGg7XG4gICAgICAgIG1heEltYWdlSGVpZ2h0ID0gc2VsZi5vcHRpb25zLm1heEhlaWdodCB8fCBwcmVsb2FkZXIuaGVpZ2h0IHx8IG1heEltYWdlSGVpZ2h0O1xuICAgICAgfVxuXG4gICAgICAvLyBJcyB0aGUgY3VycmVudCBpbWFnZSdzIHdpZHRoIG9yIGhlaWdodCBpcyBncmVhdGVyIHRoYW4gdGhlIG1heEltYWdlV2lkdGggb3IgbWF4SW1hZ2VIZWlnaHRcbiAgICAgIC8vIG9wdGlvbiB0aGFuIHdlIG5lZWQgdG8gc2l6ZSBkb3duIHdoaWxlIG1haW50YWluaW5nIHRoZSBhc3BlY3QgcmF0aW8uXG4gICAgICBpZiAoKHByZWxvYWRlci53aWR0aCA+IG1heEltYWdlV2lkdGgpIHx8IChwcmVsb2FkZXIuaGVpZ2h0ID4gbWF4SW1hZ2VIZWlnaHQpKSB7XG4gICAgICAgIGlmICgocHJlbG9hZGVyLndpZHRoIC8gbWF4SW1hZ2VXaWR0aCkgPiAocHJlbG9hZGVyLmhlaWdodCAvIG1heEltYWdlSGVpZ2h0KSkge1xuICAgICAgICAgIGltYWdlV2lkdGggID0gbWF4SW1hZ2VXaWR0aDtcbiAgICAgICAgICBpbWFnZUhlaWdodCA9IHBhcnNlSW50KHByZWxvYWRlci5oZWlnaHQgLyAocHJlbG9hZGVyLndpZHRoIC8gaW1hZ2VXaWR0aCksIDEwKTtcbiAgICAgICAgICAkaW1hZ2Uud2lkdGgoaW1hZ2VXaWR0aCk7XG4gICAgICAgICAgJGltYWdlLmhlaWdodChpbWFnZUhlaWdodCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaW1hZ2VIZWlnaHQgPSBtYXhJbWFnZUhlaWdodDtcbiAgICAgICAgICBpbWFnZVdpZHRoID0gcGFyc2VJbnQocHJlbG9hZGVyLndpZHRoIC8gKHByZWxvYWRlci5oZWlnaHQgLyBpbWFnZUhlaWdodCksIDEwKTtcbiAgICAgICAgICAkaW1hZ2Uud2lkdGgoaW1hZ2VXaWR0aCk7XG4gICAgICAgICAgJGltYWdlLmhlaWdodChpbWFnZUhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHNlbGYuc2l6ZUNvbnRhaW5lcigkaW1hZ2Uud2lkdGgoKSwgJGltYWdlLmhlaWdodCgpKTtcbiAgICB9O1xuXG4gICAgLy8gUHJlbG9hZCBpbWFnZSBiZWZvcmUgc2hvd2luZ1xuICAgIHByZWxvYWRlci5zcmMgPSB0aGlzLmFsYnVtW2ltYWdlTnVtYmVyXS5saW5rO1xuICAgIHRoaXMuY3VycmVudEltYWdlSW5kZXggPSBpbWFnZU51bWJlcjtcbiAgfTtcblxuICAvLyBTdHJldGNoIG92ZXJsYXkgdG8gZml0IHRoZSB2aWV3cG9ydFxuICBMaWdodGJveC5wcm90b3R5cGUuc2l6ZU92ZXJsYXkgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgLypcbiAgICBXZSB1c2UgYSBzZXRUaW1lb3V0IDAgdG8gcGF1c2UgSlMgZXhlY3V0aW9uIGFuZCBsZXQgdGhlIHJlbmRlcmluZyBjYXRjaC11cC5cbiAgICBXaHkgZG8gdGhpcz8gSWYgdGhlIGBkaXNhYmxlU2Nyb2xsaW5nYCBvcHRpb24gaXMgc2V0IHRvIHRydWUsIGEgY2xhc3MgaXMgYWRkZWQgdG8gdGhlIGJvZHlcbiAgICB0YWcgdGhhdCBkaXNhYmxlcyBzY3JvbGxpbmcgYW5kIGhpZGVzIHRoZSBzY3JvbGxiYXIuIFdlIHdhbnQgdG8gbWFrZSBzdXJlIHRoZSBzY3JvbGxiYXIgaXNcbiAgICBoaWRkZW4gYmVmb3JlIHdlIG1lYXN1cmUgdGhlIGRvY3VtZW50IHdpZHRoLCBhcyB0aGUgcHJlc2VuY2Ugb2YgdGhlIHNjcm9sbGJhciB3aWxsIGFmZmVjdCB0aGVcbiAgICBudW1iZXIuXG4gICAgKi9cbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZi4kb3ZlcmxheVxuICAgICAgICAud2lkdGgoJChkb2N1bWVudCkud2lkdGgoKSlcbiAgICAgICAgLmhlaWdodCgkKGRvY3VtZW50KS5oZWlnaHQoKSk7XG5cbiAgICB9LCAwKTtcbiAgfTtcblxuICAvLyBBbmltYXRlIHRoZSBzaXplIG9mIHRoZSBsaWdodGJveCB0byBmaXQgdGhlIGltYWdlIHdlIGFyZSBzaG93aW5nXG4gIC8vIFRoaXMgbWV0aG9kIGFsc28gc2hvd3MgdGhlIHRoZSBpbWFnZS5cbiAgTGlnaHRib3gucHJvdG90eXBlLnNpemVDb250YWluZXIgPSBmdW5jdGlvbihpbWFnZVdpZHRoLCBpbWFnZUhlaWdodCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHZhciBvbGRXaWR0aCAgPSB0aGlzLiRvdXRlckNvbnRhaW5lci5vdXRlcldpZHRoKCk7XG4gICAgdmFyIG9sZEhlaWdodCA9IHRoaXMuJG91dGVyQ29udGFpbmVyLm91dGVySGVpZ2h0KCk7XG4gICAgdmFyIG5ld1dpZHRoICA9IGltYWdlV2lkdGggKyB0aGlzLmNvbnRhaW5lclBhZGRpbmcubGVmdCArIHRoaXMuY29udGFpbmVyUGFkZGluZy5yaWdodCArIHRoaXMuaW1hZ2VCb3JkZXJXaWR0aC5sZWZ0ICsgdGhpcy5pbWFnZUJvcmRlcldpZHRoLnJpZ2h0O1xuICAgIHZhciBuZXdIZWlnaHQgPSBpbWFnZUhlaWdodCArIHRoaXMuY29udGFpbmVyUGFkZGluZy50b3AgKyB0aGlzLmNvbnRhaW5lclBhZGRpbmcuYm90dG9tICsgdGhpcy5pbWFnZUJvcmRlcldpZHRoLnRvcCArIHRoaXMuaW1hZ2VCb3JkZXJXaWR0aC5ib3R0b207XG5cbiAgICBmdW5jdGlvbiBwb3N0UmVzaXplKCkge1xuICAgICAgc2VsZi4kbGlnaHRib3guZmluZCgnLmxiLWRhdGFDb250YWluZXInKS53aWR0aChuZXdXaWR0aCk7XG4gICAgICBzZWxmLiRsaWdodGJveC5maW5kKCcubGItcHJldkxpbmsnKS5oZWlnaHQobmV3SGVpZ2h0KTtcbiAgICAgIHNlbGYuJGxpZ2h0Ym94LmZpbmQoJy5sYi1uZXh0TGluaycpLmhlaWdodChuZXdIZWlnaHQpO1xuXG4gICAgICAvLyBTZXQgZm9jdXMgb24gb25lIG9mIHRoZSB0d28gcm9vdCBub2RlcyBzbyBrZXlib2FyZCBldmVudHMgYXJlIGNhcHR1cmVkLlxuICAgICAgc2VsZi4kb3ZlcmxheS5mb2N1cygpO1xuXG4gICAgICBzZWxmLnNob3dJbWFnZSgpO1xuICAgIH1cblxuICAgIGlmIChvbGRXaWR0aCAhPT0gbmV3V2lkdGggfHwgb2xkSGVpZ2h0ICE9PSBuZXdIZWlnaHQpIHtcbiAgICAgIHRoaXMuJG91dGVyQ29udGFpbmVyLmFuaW1hdGUoe1xuICAgICAgICB3aWR0aDogbmV3V2lkdGgsXG4gICAgICAgIGhlaWdodDogbmV3SGVpZ2h0XG4gICAgICB9LCB0aGlzLm9wdGlvbnMucmVzaXplRHVyYXRpb24sICdzd2luZycsIGZ1bmN0aW9uKCkge1xuICAgICAgICBwb3N0UmVzaXplKCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcG9zdFJlc2l6ZSgpO1xuICAgIH1cbiAgfTtcblxuICAvLyBEaXNwbGF5IHRoZSBpbWFnZSBhbmQgaXRzIGRldGFpbHMgYW5kIGJlZ2luIHByZWxvYWQgbmVpZ2hib3JpbmcgaW1hZ2VzLlxuICBMaWdodGJveC5wcm90b3R5cGUuc2hvd0ltYWdlID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy4kbGlnaHRib3guZmluZCgnLmxiLWxvYWRlcicpLnN0b3AodHJ1ZSkuaGlkZSgpO1xuICAgIHRoaXMuJGxpZ2h0Ym94LmZpbmQoJy5sYi1pbWFnZScpLmZhZGVJbih0aGlzLm9wdGlvbnMuaW1hZ2VGYWRlRHVyYXRpb24pO1xuXG4gICAgdGhpcy51cGRhdGVOYXYoKTtcbiAgICB0aGlzLnVwZGF0ZURldGFpbHMoKTtcbiAgICB0aGlzLnByZWxvYWROZWlnaGJvcmluZ0ltYWdlcygpO1xuICAgIHRoaXMuZW5hYmxlS2V5Ym9hcmROYXYoKTtcbiAgfTtcblxuICAvLyBEaXNwbGF5IHByZXZpb3VzIGFuZCBuZXh0IG5hdmlnYXRpb24gaWYgYXBwcm9wcmlhdGUuXG4gIExpZ2h0Ym94LnByb3RvdHlwZS51cGRhdGVOYXYgPSBmdW5jdGlvbigpIHtcbiAgICAvLyBDaGVjayB0byBzZWUgaWYgdGhlIGJyb3dzZXIgc3VwcG9ydHMgdG91Y2ggZXZlbnRzLiBJZiBzbywgd2UgdGFrZSB0aGUgY29uc2VydmF0aXZlIGFwcHJvYWNoXG4gICAgLy8gYW5kIGFzc3VtZSB0aGF0IG1vdXNlIGhvdmVyIGV2ZW50cyBhcmUgbm90IHN1cHBvcnRlZCBhbmQgYWx3YXlzIHNob3cgcHJldi9uZXh0IG5hdmlnYXRpb25cbiAgICAvLyBhcnJvd3MgaW4gaW1hZ2Ugc2V0cy5cbiAgICB2YXIgYWx3YXlzU2hvd05hdiA9IGZhbHNlO1xuICAgIHRyeSB7XG4gICAgICBkb2N1bWVudC5jcmVhdGVFdmVudCgnVG91Y2hFdmVudCcpO1xuICAgICAgYWx3YXlzU2hvd05hdiA9ICh0aGlzLm9wdGlvbnMuYWx3YXlzU2hvd05hdk9uVG91Y2hEZXZpY2VzKSA/IHRydWUgOiBmYWxzZTtcbiAgICB9IGNhdGNoIChlKSB7fVxuXG4gICAgdGhpcy4kbGlnaHRib3guZmluZCgnLmxiLW5hdicpLnNob3coKTtcblxuICAgIGlmICh0aGlzLmFsYnVtLmxlbmd0aCA+IDEpIHtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMud3JhcEFyb3VuZCkge1xuICAgICAgICBpZiAoYWx3YXlzU2hvd05hdikge1xuICAgICAgICAgIHRoaXMuJGxpZ2h0Ym94LmZpbmQoJy5sYi1wcmV2LCAubGItbmV4dCcpLmNzcygnb3BhY2l0eScsICcxJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4kbGlnaHRib3guZmluZCgnLmxiLXByZXYsIC5sYi1uZXh0Jykuc2hvdygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudEltYWdlSW5kZXggPiAwKSB7XG4gICAgICAgICAgdGhpcy4kbGlnaHRib3guZmluZCgnLmxiLXByZXYnKS5zaG93KCk7XG4gICAgICAgICAgaWYgKGFsd2F5c1Nob3dOYXYpIHtcbiAgICAgICAgICAgIHRoaXMuJGxpZ2h0Ym94LmZpbmQoJy5sYi1wcmV2JykuY3NzKCdvcGFjaXR5JywgJzEnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY3VycmVudEltYWdlSW5kZXggPCB0aGlzLmFsYnVtLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICB0aGlzLiRsaWdodGJveC5maW5kKCcubGItbmV4dCcpLnNob3coKTtcbiAgICAgICAgICBpZiAoYWx3YXlzU2hvd05hdikge1xuICAgICAgICAgICAgdGhpcy4kbGlnaHRib3guZmluZCgnLmxiLW5leHQnKS5jc3MoJ29wYWNpdHknLCAnMScpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvLyBEaXNwbGF5IGNhcHRpb24sIGltYWdlIG51bWJlciwgYW5kIGNsb3NpbmcgYnV0dG9uLlxuICBMaWdodGJveC5wcm90b3R5cGUudXBkYXRlRGV0YWlscyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIC8vIEVuYWJsZSBhbmNob3IgY2xpY2tzIGluIHRoZSBpbmplY3RlZCBjYXB0aW9uIGh0bWwuXG4gICAgLy8gVGhhbmtzIE5hdGUgV3JpZ2h0IGZvciB0aGUgZml4LiBAaHR0cHM6Ly9naXRodWIuY29tL05hdGVXclxuICAgIGlmICh0eXBlb2YgdGhpcy5hbGJ1bVt0aGlzLmN1cnJlbnRJbWFnZUluZGV4XS50aXRsZSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgIHRoaXMuYWxidW1bdGhpcy5jdXJyZW50SW1hZ2VJbmRleF0udGl0bGUgIT09ICcnKSB7XG4gICAgICB2YXIgJGNhcHRpb24gPSB0aGlzLiRsaWdodGJveC5maW5kKCcubGItY2FwdGlvbicpO1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5zYW5pdGl6ZVRpdGxlKSB7XG4gICAgICAgICRjYXB0aW9uLnRleHQodGhpcy5hbGJ1bVt0aGlzLmN1cnJlbnRJbWFnZUluZGV4XS50aXRsZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkY2FwdGlvbi5odG1sKHRoaXMuYWxidW1bdGhpcy5jdXJyZW50SW1hZ2VJbmRleF0udGl0bGUpO1xuICAgICAgfVxuICAgICAgJGNhcHRpb24uZmFkZUluKCdmYXN0Jyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuYWxidW0ubGVuZ3RoID4gMSAmJiB0aGlzLm9wdGlvbnMuc2hvd0ltYWdlTnVtYmVyTGFiZWwpIHtcbiAgICAgIHZhciBsYWJlbFRleHQgPSB0aGlzLmltYWdlQ291bnRMYWJlbCh0aGlzLmN1cnJlbnRJbWFnZUluZGV4ICsgMSwgdGhpcy5hbGJ1bS5sZW5ndGgpO1xuICAgICAgdGhpcy4kbGlnaHRib3guZmluZCgnLmxiLW51bWJlcicpLnRleHQobGFiZWxUZXh0KS5mYWRlSW4oJ2Zhc3QnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy4kbGlnaHRib3guZmluZCgnLmxiLW51bWJlcicpLmhpZGUoKTtcbiAgICB9XG5cbiAgICB0aGlzLiRvdXRlckNvbnRhaW5lci5yZW1vdmVDbGFzcygnYW5pbWF0aW5nJyk7XG5cbiAgICB0aGlzLiRsaWdodGJveC5maW5kKCcubGItZGF0YUNvbnRhaW5lcicpLmZhZGVJbih0aGlzLm9wdGlvbnMucmVzaXplRHVyYXRpb24sIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHNlbGYuc2l6ZU92ZXJsYXkoKTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBQcmVsb2FkIHByZXZpb3VzIGFuZCBuZXh0IGltYWdlcyBpbiBzZXQuXG4gIExpZ2h0Ym94LnByb3RvdHlwZS5wcmVsb2FkTmVpZ2hib3JpbmdJbWFnZXMgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5hbGJ1bS5sZW5ndGggPiB0aGlzLmN1cnJlbnRJbWFnZUluZGV4ICsgMSkge1xuICAgICAgdmFyIHByZWxvYWROZXh0ID0gbmV3IEltYWdlKCk7XG4gICAgICBwcmVsb2FkTmV4dC5zcmMgPSB0aGlzLmFsYnVtW3RoaXMuY3VycmVudEltYWdlSW5kZXggKyAxXS5saW5rO1xuICAgIH1cbiAgICBpZiAodGhpcy5jdXJyZW50SW1hZ2VJbmRleCA+IDApIHtcbiAgICAgIHZhciBwcmVsb2FkUHJldiA9IG5ldyBJbWFnZSgpO1xuICAgICAgcHJlbG9hZFByZXYuc3JjID0gdGhpcy5hbGJ1bVt0aGlzLmN1cnJlbnRJbWFnZUluZGV4IC0gMV0ubGluaztcbiAgICB9XG4gIH07XG5cbiAgTGlnaHRib3gucHJvdG90eXBlLmVuYWJsZUtleWJvYXJkTmF2ID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy4kbGlnaHRib3gub24oJ2tleXVwLmtleWJvYXJkJywgJC5wcm94eSh0aGlzLmtleWJvYXJkQWN0aW9uLCB0aGlzKSk7XG4gICAgdGhpcy4kb3ZlcmxheS5vbigna2V5dXAua2V5Ym9hcmQnLCAkLnByb3h5KHRoaXMua2V5Ym9hcmRBY3Rpb24sIHRoaXMpKTtcbiAgfTtcblxuICBMaWdodGJveC5wcm90b3R5cGUuZGlzYWJsZUtleWJvYXJkTmF2ID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy4kbGlnaHRib3gub2ZmKCcua2V5Ym9hcmQnKTtcbiAgICB0aGlzLiRvdmVybGF5Lm9mZignLmtleWJvYXJkJyk7XG4gIH07XG5cbiAgTGlnaHRib3gucHJvdG90eXBlLmtleWJvYXJkQWN0aW9uID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgS0VZQ09ERV9FU0MgICAgICAgID0gMjc7XG4gICAgdmFyIEtFWUNPREVfTEVGVEFSUk9XICA9IDM3O1xuICAgIHZhciBLRVlDT0RFX1JJR0hUQVJST1cgPSAzOTtcblxuICAgIHZhciBrZXljb2RlID0gZXZlbnQua2V5Q29kZTtcbiAgICBpZiAoa2V5Y29kZSA9PT0gS0VZQ09ERV9FU0MpIHtcbiAgICAgIC8vIFByZXZlbnQgYnViYmxpbmcgc28gYXMgdG8gbm90IGFmZmVjdCBvdGhlciBjb21wb25lbnRzIG9uIHRoZSBwYWdlLlxuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB0aGlzLmVuZCgpO1xuICAgIH0gZWxzZSBpZiAoa2V5Y29kZSA9PT0gS0VZQ09ERV9MRUZUQVJST1cpIHtcbiAgICAgIGlmICh0aGlzLmN1cnJlbnRJbWFnZUluZGV4ICE9PSAwKSB7XG4gICAgICAgIHRoaXMuY2hhbmdlSW1hZ2UodGhpcy5jdXJyZW50SW1hZ2VJbmRleCAtIDEpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLm9wdGlvbnMud3JhcEFyb3VuZCAmJiB0aGlzLmFsYnVtLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VJbWFnZSh0aGlzLmFsYnVtLmxlbmd0aCAtIDEpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoa2V5Y29kZSA9PT0gS0VZQ09ERV9SSUdIVEFSUk9XKSB7XG4gICAgICBpZiAodGhpcy5jdXJyZW50SW1hZ2VJbmRleCAhPT0gdGhpcy5hbGJ1bS5sZW5ndGggLSAxKSB7XG4gICAgICAgIHRoaXMuY2hhbmdlSW1hZ2UodGhpcy5jdXJyZW50SW1hZ2VJbmRleCArIDEpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLm9wdGlvbnMud3JhcEFyb3VuZCAmJiB0aGlzLmFsYnVtLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VJbWFnZSgwKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLy8gQ2xvc2luZyB0aW1lLiA6LShcbiAgTGlnaHRib3gucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuZGlzYWJsZUtleWJvYXJkTmF2KCk7XG4gICAgJCh3aW5kb3cpLm9mZigncmVzaXplJywgdGhpcy5zaXplT3ZlcmxheSk7XG4gICAgdGhpcy4kbGlnaHRib3guZmFkZU91dCh0aGlzLm9wdGlvbnMuZmFkZUR1cmF0aW9uKTtcbiAgICB0aGlzLiRvdmVybGF5LmZhZGVPdXQodGhpcy5vcHRpb25zLmZhZGVEdXJhdGlvbik7XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLmRpc2FibGVTY3JvbGxpbmcpIHtcbiAgICAgICQoJ2JvZHknKS5yZW1vdmVDbGFzcygnbGItZGlzYWJsZS1zY3JvbGxpbmcnKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIG5ldyBMaWdodGJveCgpO1xufSkpO1xuIiwiXG5pbXBvcnQgbGlnaHRib3ggZnJvbSAnLi4vLi4vbm9kZV9tb2R1bGVzL2xpZ2h0Ym94Mi9kaXN0L2pzL2xpZ2h0Ym94JztcblxuLy8gY29uc3QgZGVib3VuY2UgPSByZXF1aXJlKCdsb2Rhc2gvZGVib3VuY2UnKTtcblxuXG5cblxualF1ZXJ5KGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigkKSB7XG5cblxuICBpZigkKCcjZnJvbnQtcGFnZS1pZycpLmxlbmd0aCA+IDApIHtcblxuICAgIC8vIGluaXQgU3dpcGVyOlxuICAgIGNvbnN0IHN3aXBlciA9IG5ldyBTd2lwZXIoJy5zd2lwZXItY29udGFpbmVyJywge1xuICAgICAgLy8gT3B0aW9uYWwgcGFyYW1ldGVyc1xuICAgICAgZGlyZWN0aW9uOiAnaG9yaXpvbnRhbCcsXG4gICAgICBsb29wOiB0cnVlLFxuICAgIFxuICAgICAgLy8gSWYgd2UgbmVlZCBwYWdpbmF0aW9uXG4gICAgICBwYWdpbmF0aW9uOiB7XG4gICAgICAgIGVsOiAnLnN3aXBlci1wYWdpbmF0aW9uJyxcbiAgICAgIH0sXG4gICAgXG4gICAgICAvLyBOYXZpZ2F0aW9uIGFycm93c1xuICAgICAgbmF2aWdhdGlvbjoge1xuICAgICAgICBuZXh0RWw6ICcuc3dpcGVyLWJ1dHRvbi1uZXh0JyxcbiAgICAgICAgcHJldkVsOiAnLnN3aXBlci1idXR0b24tcHJldicsXG4gICAgICB9LFxuICAgIFxuICAgICAgLy8gQW5kIGlmIHdlIG5lZWQgc2Nyb2xsYmFyXG4gICAgICBzY3JvbGxiYXI6IHtcbiAgICAgICAgZWw6ICcuc3dpcGVyLXNjcm9sbGJhcicsXG4gICAgICB9LFxuICAgIH0pO1xuICB9XG5cblxuLy8gYWRkIHBhZGRpbmcgdG9wIHRvIHNob3cgY29udGVudCBiZWhpbmQgbmF2YmFyXG5cblxuXG4vLyB2YXIgbGFzdFNjcm9sbFRvcCA9IDA7XG5cbi8vIGZ1bmN0aW9uIGRlYm91bmNlKGZ1bmMsIHdhaXQsIGltbWVkaWF0ZSkge1xuLy8gICB2YXIgdGltZW91dDtcbi8vICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuLy8gICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLCBhcmdzID0gYXJndW1lbnRzO1xuLy8gICAgICAgdmFyIGxhdGVyID0gZnVuY3Rpb24oKSB7XG4vLyAgICAgICAgICAgdGltZW91dCA9IG51bGw7XG4vLyAgICAgICAgICAgaWYgKCFpbW1lZGlhdGUpIGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4vLyAgICAgICB9O1xuLy8gICAgICAgdmFyIGNhbGxOb3cgPSBpbW1lZGlhdGUgJiYgIXRpbWVvdXQ7XG4vLyAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4vLyAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgd2FpdCk7XG4vLyAgICAgICBpZiAoY2FsbE5vdykgZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbi8vICAgIH07XG4vLyAgIH07XG4gIFxuLy8gICAvLyBjYWxsIGRlYm91bmNlIGxvZ2ljIGJ5IHBhc3NpbmcgdGFyZ2V0IGV2ZW50IGhhbmRsZXJcbi8vICAgdmFyIG9wdGltaXNlZEZ1bmM9IGRlYm91bmNlKGZ1bmN0aW9uKCkge1xuLy8gICAgICB2YXIgY3VycmVudFNjcm9sbFRvcCA9ICQodGhpcykuc2Nyb2xsVG9wKCk7XG4vLyAgICAgIGlmIChjdXJyZW50U2Nyb2xsVG9wID4gbGFzdFNjcm9sbFRvcCkge1xuLy8gICAgICAgIGNvbnNvbGUubG9nKCchISEnKVxuLy8gICAgICAgJCgnLnNtYXJ0LXNjcm9sbCcpLnJlbW92ZUNsYXNzKCdzY3JvbGxlZC1kb3duJykuYWRkQ2xhc3MoJ3Njcm9sbGVkLXVwJyk7XG4vLyAgICAgIH0gZWxzZSB7XG4vLyAgICAgICBjb25zb2xlLmxvZygnPz8/JylcblxuLy8gICAgICAgJCgnLnNtYXJ0LXNjcm9sbCcpLnJlbW92ZUNsYXNzKCdzY3JvbGxlZC11cCcpLmFkZENsYXNzKCdzY3JvbGxlZC1kb3duJyk7XG4vLyAgICAgIH1cbi8vICAgICAgbGFzdFNjcm9sbFRvcCA9IGN1cnJlbnRTY3JvbGxUb3A7XG4vLyAgIH0sIDI1MCk7XG4gIFxuLy8gICAkKHdpbmRvdykub24oJ3Njcm9sbCcsIGZ1bmN0aW9uKCkge1xuLy8gICAgICAgICBvcHRpbWlzZWRGdW5jKCk7XG4vLyAgIH0pO1xuXG5cblxuLy8gZGV0ZWN0IHNjcm9sbCB0b3Agb3IgZG93blxuaWYgKCQoJy5zbWFydC1zY3JvbGwnKS5sZW5ndGggPiAwKSB7IC8vIGNoZWNrIGlmIGVsZW1lbnQgZXhpc3RzXG4gICAgdmFyIGxhc3Rfc2Nyb2xsX3RvcCA9IDA7XG5cbiAgICBjb25zdCBzY3JvbGwgPSAkKGRvY3VtZW50KS5zY3JvbGxUb3AoKTtcbiAgICBjb25zdCBuYXZIZWlnaHQgPSAkKCcubmF2YmFyJykub3V0ZXJIZWlnaHQoKTtcbiAgICAkKHdpbmRvdykub24oJ3Njcm9sbCcsIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIGNvbnN0IHNjcm9sbF90b3AgPSAkKHRoaXMpLnNjcm9sbFRvcCgpO1xuICAgICAgY29uc3Qgc2Nyb2xsZWQgPSAkKGRvY3VtZW50KS5zY3JvbGxUb3AoKTtcbiBcbiAgICAgICAgY29uc29sZS5sb2cobmF2SGVpZ2h0KVxuXG4gICAgICAgIGlmKHNjcm9sbGVkIDwgbmF2SGVpZ2h0ICkge1xuICAgICAgJCgnLnNtYXJ0LXNjcm9sbCcpLnJlbW92ZUNsYXNzKCdzY3JvbGxlZC1kb3duJykuYWRkQ2xhc3MoJ3Njcm9sbGVkLXVwJyk7XG5cbiAgICAgIC8vICQoJy5zbWFydC1zY3JvbGwnKS5yZW1vdmVDbGFzcygnc2Nyb2xsZWQtdXAnKS5hZGRDbGFzcygnc2Nyb2xsZWQtZG93bicpO1xuXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZihzY3JvbGxfdG9wID4gbGFzdF9zY3JvbGxfdG9wKSB7XG4gICAgICAgICAgJCgnLnNtYXJ0LXNjcm9sbCcpLnJlbW92ZUNsYXNzKCdzY3JvbGxlZC11cCcpLmFkZENsYXNzKCdzY3JvbGxlZC1kb3duJyk7XG5cbiAgICAgIC8vICBjb25zb2xlLmxvZygnISEhJylcblxuICAgICAgICB9IGVsc2UgaWYgKHNjcm9sbF90b3AgPCBsYXN0X3Njcm9sbF90b3ApIHtcbiAgICAgICQoJy5zbWFydC1zY3JvbGwnKS5yZW1vdmVDbGFzcygnc2Nyb2xsZWQtZG93bicpLmFkZENsYXNzKCdzY3JvbGxlZC11cCcpO1xuXG5cbiAgICAgICAgfVxuICAgICAgICBsYXN0X3Njcm9sbF90b3AgPSBzY3JvbGxfdG9wO1xuICAgIH0pO1xufVxuXG5cblxuXG5cblxubGlnaHRib3gub3B0aW9uKHtcbiAgJ3Jlc2l6ZUR1cmF0aW9uJzogMzAwLFxuICAnZmFkZUR1cmF0aW9uJyA6IDcwMCxcbiAgJ2Fsd2F5c1Nob3dOYXZPblRvdWNoRGV2aWNlcycgOiB0cnVlLFxuXG5cbn0pXG5cbmlmKCQoJy5kcm9wZG93bi1tZW51JykuY2hpbGRyZW4oJy5jdXJyZW50X3BhZ2VfaXRlbScpLmxlbmd0aCA+IDApIHtcbiQoJy5jdXJyZW50X3BhZ2VfYW5jZXN0b3IgPiBhJykuY3NzKCd0ZXh0LWRlY29yYXRpb24nLCAndW5kZXJsaW5lJylcbn1cblxuaWYoJCgnLmxpc3Rlbi1hcnRpc3Qtb24tY29uY2VydCcpLmxlbmd0aCA+IDApIHtcblxuaWYoJCgnLmNvbmNlcnQtZXhpc3RzLXVuaXF1ZS1jbGFzcy1mb3ItanMtb25seScpLmxlbmd0aCA9PT0gMCkge1xuICAkKCcubGlzdGVuLWFydGlzdC1vbi1jb25jZXJ0JykudGV4dCgnICcpO1xufVxufVxuXG5cblxuXG4vLyBsZXQgdmggPSB3aW5kb3cuaW5uZXJIZWlnaHQgKiAwLjAxO1xuLy8gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCctLXZoJywgYCR7dmh9cHhgKTtcblxuLy8gY29uc29sZS5sb2codmgpO1xuXG4vLyAvLyBXZSBsaXN0ZW4gdG8gdGhlIHJlc2l6ZSBldmVudFxuLy8gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICgpID0+IHtcbi8vICAgLy8gV2UgZXhlY3V0ZSB0aGUgc2FtZSBzY3JpcHQgYXMgYmVmb3JlXG4vLyAgIGxldCB2aCA9IHdpbmRvdy5pbm5lckhlaWdodCAqIDAuMDE7XG4vLyAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS12aCcsIGAke3ZofXB4YCk7XG4vLyB9KTtcblxuXG5cblxufSlcblxuXG4iLCJtb2R1bGUuZXhwb3J0cyA9IGpRdWVyeTsiXSwic291cmNlUm9vdCI6IiJ9